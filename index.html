<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>DER UCEN25 - Malla Curricular</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: Arial, sans-serif; background: #f9f9f9; margin: 0; padding: 0; }
        h1 { background: #003366; color: white; padding: 20px 0; text-align: center; margin: 0; }
        .container { max-width: 1200px; margin: auto; padding: 20px; }
        .semesters { display: flex; flex-wrap: wrap; gap: 32px; }
        .semester { background: #fff; border-radius: 8px; box-shadow: 0 2px 6px #0001; flex: 1 1 300px; min-width: 280px; margin-bottom: 20px; }
        .semester h2 { background: #005599; color: white; margin: 0; padding: 10px; border-radius: 8px 8px 0 0; }
        .course-list { list-style: none; margin: 0; padding: 0; }
        .course { display: flex; flex-direction: column; padding: 12px 16px; border-bottom: 1px solid #eee; }
        .course:last-child { border-bottom: none; }
        .code { font-weight: bold; margin-bottom: 6px; }
        .credits { font-size: 13px; color: #555; }
        .category { padding: 2px 8px; border-radius: 10px; font-size: 13px; margin-bottom: 5px; display: inline-block; }
        .prereqs { font-size: 12px; color: #888; margin-top: 4px; }
        .legend { margin-top: 40px; }
        .legend-title { font-weight: bold; margin-bottom: 10px; }
        .legend-item { display: flex; align-items: center; margin-bottom: 7px; font-size: 15px; }
        .legend-color { width: 18px; height: 18px; border-radius: 6px; margin-right: 12px; border: 1px solid #999; }
        @media (max-width: 900px) {
            .semesters { flex-direction: column; }
        }
    </style>
</head>
<body>
    <h1>DER UCEN25 - Malla Curricular</h1>
    <div class="container">
        <div id="semesters" class="semesters"></div>

        <div class="legend">
            <div class="legend-title">Categorías:</div>
            <div id="legend-items"></div>
        </div>
    </div>
    <script>
    // === Datos extraídos del JSON ===
    const data = {
        "name": "DER_UCEN25",
        "malla": { /* ... los semestres ... */ },
        "categories": {
            "TRO":["#70df34","Troncal"],
            "AFD":["#78adc4","Área de Formación Disciplinar"],
            "AFG":["#b4b1b1","Área de Formación General"],
            "AFB":["#1cd9f2","Área de Formación Básica"],
            "AFP":["#ece646","Área de Formación Profesional"]
        }
    };
    // --- Pegamos la malla completa ---
    data.malla = {
    "s1": [
        ["Introducción al Derecho Civil","IDC","6",0,"TRO",[],"I"],
        ["Derecho Romano","DRO","6",0,"AFD",[],"I"],
        ["Historia del Derecho","HdD","6",0,"AFD",[],"I"],
        ["Derecho Económico I","DE1","6",0,"AFD",[],""],
        ["Taller de Técnicas y Metodología de Estudio","T1","4",0,"AFG",[],"I"],
        ["Taller de Competencias Discursivas","T2","4",0,"AFG",[],"I"]
    ],
    "s2": [
        ["Derecho Civil I","DC1","6",6,"TRO",["IDC"],"P"],
        ["Derecho Procesal I","DP1","6",0,"TRO",[],""],
        ["Derecho Político","DPO","6","6","AFD",[],"P"],
        ["Derecho Económico II","DE2","6","6","AFD",["DE1"],"P"],
        ["Taller","T3","4",0,"AFB",[],"A"],
        ["Curso Transversal Institucional I","TI1","2",2,"AFG",[],"A"]
    ],
    "s3": [
        ["Derecho Civil II","DC2","6",0,"TRO",[],"I"],
        ["Derecho Procesal II","DP2","6",0,"TRO",["DP1"],"I"],
        ["Historia Constitucional","HC","6",10,"AFD",["DPO"],"I"],
        ["Derecho Internacional Público","DIP","6",6,"AFD",[],"I"],
        ["Taller","T4","4",4,"AFB",[],"A"]
    ],
    "s4": [
        ["Derecho Civil III","DC3","6",0,"TRO",["DC2"],"P"],
        ["Derecho Procesal III","DP3","6",6,"TRO",["DP2"],"P"],
        ["Derecho Penal I","DPE1","6",6,"AFD",["DP2"],"P"],
        ["Taller","T5","4",0,"AFB",[],""],
        ["Derecho Constitucional I","DCO1","6",6,"AFD",["HC"],"P"]
    ],
    "s5": [
        ["Derecho Civil IV","DC4","6",6,"TRO",["DC3"],"I"],
        ["Derecho Procesal IV","DP4","6",6,"TRO",["DP3"],"I"],
        ["Derecho Constitucional II","DCO2","6",6,"AFD",["DCO1"],"I"],
        ["Derecho Penal II","DPE2","6",6,"AFD",["DPE1"],"I"],
        ["Taller","T6","4",4,"AFB",[],"A"]
    ],
    "s6": [
        ["Derecho Civil V","DC5","6",6,"TRO",["DC4"],"P"],
        ["Derecho Procesal V","DP5","6",6,"TRO",["DP4"],"P"],
        ["Derecho Administrativo","DADM","6",6,"AFD",["DCO2"],"P"],
        ["Derecho Penal III","DPE3","6",6,"AFD",["DPE2"],"P"],
        ["Taller","T7","4",4,"AFB",[],"A"]
    ],
    "s7": [
        ["Derecho Civil VI","DC6","6","6","TRO",["DC5"],"I"],
        ["Derecho Procesal VI","DP6","4","4","TRO",["DP5"],"I"],
        ["Derecho Económico III","DE3","6",6,"AFD",["DE2"],"I"],
        ["Derecho del Trabajo","DTRA","6",6,"AFP",["DC3","DP3"],"I"],
        ["Derecho Comercial","DCOM","6",6,"AFP",["DC3"],"I"],
        ["Curso Transversal Institucional","TI2","2",2,"AFG",[],"A"]
    ],
    "s8": [
        ["Derecho Civil VII","DC7","4","4","TRO",["DC6"],"P"],
        ["Derecho Tributario","DTRI","6",6,"AFP",["DE3"],"P"],
        ["Derecho de la Seguridad Social","DSS","6",6,"AFP",["DTRA"],"P"],
        ["Derecho de Sociedades","DSOC","6",6,"AFP",["DCOM"],"P"],
        ["Electivo de Área I","ELE1","4",4,"AFP",[],"P"],
        ["Electivo de Área II","ELE2","4",4,"AFP",[],"P"]
    ],
    "s9": [
        ["Seminario Integrativo I","SEM1","6",6,"AFD",["DP5","DC5"],"I"],
        ["Seminario de Tesis","SEMT","6",6,"AFD",["DC7","DP6"],"I"],
        ["Clínica Jurídica I","CLJ1","6","6","AFP",["DP5","DC6"],"I"],
        ["Electivo de Área III","ELE3","4",4,"AFP",[],"I"],
        ["Electivo de Área 4","ELE4","4",4,"AFP",[],"I"]
    ],
    "s10": [
        ["Seminario Integrativo II","SEM2","6",6,"AFD",["SEM1"],"P"],
        ["Fundamentos Filosóficos del Derecho","FUND","4",4,"AFD",["DC5","DP5","DADM","DPE3","T7"],"P"],
        ["Clínica Jurídica II","CLJ2","6",6,"AFP",["CLJ1"],"P"],
        ["Electivo de Área V","ELE5","4",4,"AFP",[],"P"],
        ["Electivo de Área VI","ELE6","4",4,"AFP",[],"P"]
    ]
    };

    // === Renderizado de semestres ===
    function renderSemesters() {
        const semestersDiv = document.getElementById('semesters');
        semestersDiv.innerHTML = '';
        Object.entries(data.malla).forEach(([semKey, courses]) => {
            const semNum = semKey.replace('s','');
            const semesterDiv = document.createElement('div');
            semesterDiv.className = 'semester';
            semesterDiv.innerHTML = `<h2>Semestre ${semNum}</h2>`;
            const ul = document.createElement('ul');
            ul.className = 'course-list';
            courses.forEach(course => {
                const [name, code, credits, reqCred, category, prereqs, tipo] = course;
                const li = document.createElement('li');
                li.className = 'course';
                const catData = data.categories[category] || ["#999","Desconocido"];
                li.innerHTML = `
                    <span class="code">${code}</span>
                    <span>${name}</span>
                    <span class="credits">Créditos: ${credits}</span>
                    <span class="category" style="background:${catData[0]};">${catData[1]}</span>
                    ${prereqs.length ? `<span class="prereqs">Prerrequisito(s): ${prereqs.join(', ')}</span>` : ''}
                `;
                ul.appendChild(li);
            });
            semesterDiv.appendChild(ul);
            semestersDiv.appendChild(semesterDiv);
        });
    }

    // === Renderizado de la leyenda de categorías ===
    function renderLegend() {
        const legendDiv = document.getElementById('legend-items');
        legendDiv.innerHTML = '';
        Object.entries(data.categories).forEach(([catKey, catData]) => {
            const div = document.createElement('div');
            div.className = 'legend-item';
            div.innerHTML = `<span class="legend-color" style="background:${catData[0]}"></span> ${catData[1]} (${catKey})`;
            legendDiv.appendChild(div);
        });
    }

    // === Inicializar ===
    renderSemesters();
    renderLegend();
    </script>
</body>
</html>
